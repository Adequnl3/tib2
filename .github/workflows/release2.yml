
# Generated by: gromit policy
# Generated on: Mon Aug 22 13:35:21 UTC 2022


# Distribution channels covered by this workflow
# - Ubuntu and Debian
# - RHEL/OL
# - tarballs
# - docker hub
# - devenv ECR
# - AWS mktplace
# - Cloudsmith

name: Release

on:
  push:
    branches:
      - scan_report
    tags:
      - 'v*'
  
jobs:
  goreleaser:
    name: '${{ matrix.golang_cross }}'
    runs-on: ubuntu-latest
    container: 'tykio/golang-cross:${{ matrix.golang_cross }}'
    strategy:
      fail-fast: false
      matrix:
        golang_cross: [ 1.15 ]
        include:
          - golang_cross: 1.15
            goreleaser: 'ci/goreleaser/goreleaser.yml'
            rpmvers: 'el/7 el/8'
            debvers: 'ubuntu/xenial ubuntu/bionic debian/jessie ubuntu/focal debian/buster debian/bullseye'
    outputs:
      tag: ${{ steps.targets.outputs.tag }}
